
## DNS란???
DNS(Domain Name System)는 사용자가 숫자로 된 IP 대신 인터넷 도메인 이름과 검색 가능한 URL로 웹사이트에 접속하는 것을 가능하게 한다.

예를 들어 12.23.45.67 대신 www.example.com 으로 접속할 수 있게 하는것이다.

DNS를 간단하게 말하면 스마트폰의 주소록과 비슷하게 생각하면 된다.

### 퍼블릭 DNS
일반적으로 인터넷 서비스 제공업체가 기업에 IP 레코드를 제공한다.
사용 중인 디바이스 또는 디바이스에 연결된  네트워크 에 상관없이 누구나 액세스할 수 있다.

### 프라이빗 DNS
프라이빗 DNS는 회사의 방화벽 뒤에 존재하며 내부 사이트의 레코드만을 보관한다.
프라이빗 네트워크 외부에서 액세스할 수 없습니다.

### 작동 순서
1.  사용자가 도메인, URL을 브라우저에 입력
2. 인터넷 서비스 업체의 로컬 DNS 서버로 전송
3. 쿼리가 루트 네임 서버로 전송
4. IP 주소 찾은 뒤 반환
간단하게 이런 순서를 가지게 된다.

물론 중간중간 생략된 과정들이 많지만 간단하게만 알아보고 넘어가자


## Synology NAS DNS 서버 구축


![](https://i.imgur.com/AsmqR9G.png)
원하는 도메인을 사주자

![](https://i.imgur.com/ThDGlL8.png)
다음으로 패키지 센터에서 DNS Server를 다운받아 준다


![](https://i.imgur.com/Xp5dR2n.png)
DNS 서버로 드러와서 기본 영역 만들기에 들어온다


![](https://i.imgur.com/aS7qd7y.png)
구매한 도메인 이름과 외부 주소를 적어준다

![](https://i.imgur.com/OqbusVy.png)
다음으로 기본영역 만들기에서
역방향을 선택해주고 역순으로 적어준다

![](https://i.imgur.com/aJG4NpB.png)
다음으로 정방향 클릭후 편집의 리소스 레코드 편집에 들어와
이 와 같이 작성해준다ㅏ

![](https://i.imgur.com/JL32Gbx.png)

A 타입으로 추가해 외부주소만 적어주고 저장해준다
ns 도 같이 작성해준다

다음 다시 가비아로 돌아와준다

DNS 호스트 설정에 들어와주고 
![](https://i.imgur.com/pzqtehO.png)
호스트 명을 아까 ns로 해줬으니 적어주고 뒤에 외부 주소를 적어준다

후에 네임서버 설정에 들어와
![](https://i.imgur.com/1dQtGXl.png)
아까 만들었던 호스트 이름을 1차에 적어주고 2차는 그대로 놔둔다

여러 도메인을 사용하는 경우 2차, 3차를 사용한다
한개만이라면 굳이 변경할 필요는 없다

이렇게 까지 해주면 기본적인 설정은 모두 끝난다.

근데 해보니까 생각보다 적용되는데 시간이 걸리는 경우가 있어
```
nslookup 도메인
```
이 명령어로 적용되었는지 확인해주자

다음에는 이걸 이용해서 도커에 배포한 블로그 도메인을 연결해보겠다ㅏ~