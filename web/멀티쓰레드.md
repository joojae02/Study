# 동시 요청 - 멀티 쓰레드
`서블릿은 누가 호출하는가?`
- 쓰레드

## 쓰레드
- 애플리케이션 코드를 순차적으로 실행함
- 자바 메인 메소드 실행 시 main이라는 쓰레드가 실행함
- 쓰레드 없이는 자바 실행 X
- 하나의 코드 라인만 수행
- 동시 처리가 필요하면 다른 쓰레드를 만들어야함

## 동시 요청을 위한 멀티 쓰레드

### 장점
- 동시 요청 처리 가능
- 리소스가 될때까지 처리 가능
- 하나가 지연되어도 나머지는 정상

### 단점
- 생성 비용이 비쌈
    - 요청마다 쓰레드 생성시, 느려짐
- 생성에 제한이 없음
    - 요청이 너무 많으면 서버가 죽을 수 있음


## 쓰레드 풀
- 요청 마다 쓰레드 생성의 단점 보완

- 특징
    - 쓰레드를 쓰레드 풀에 보관 관리
- 사용
    - 쓰레드 필요시, 꺼내씀
    - 사용 종료시 반납
    - 풀에 쓰레드가 없다면 거절 혹은 대기
- 장점
    - 생성 종료 비용 절약
    - 응답 시간 빠름
    - 요청이 많아도 기존 요청 처리 가능
### 최대 쓰레드
- 낮으면?
    - 동시 요청이 많으면 서버 여유로움, 클라이언트 응답 지연
- 높으면?
    - 동시 요청이 많으면 서버 다운 가능


## WAS의 멀티 쓰레드 지원
- 멀티 쓰레드 WAS가 관리
- 신경 안써도 됨
- `싱글톤 주의해서 사용`