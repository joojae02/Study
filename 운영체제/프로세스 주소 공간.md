


컴파일 
코드를 실행파일로 => 컴파일이다.

실행파일을 실행하기 전 과정
작성한 코드를 실행할 수 있게 준비해주는 과정

런타임이라 하면
실제 실행 중

.exe 실행해서 도스창 켜져서 꺼질때 까지
를 런타임이라 한다.

조금 더 고수준 언어로 간다.

거의 다 객체다. -> 런타임

![](https://i.imgur.com/sn754Dd.png)


크게 Code, Data, Heap, Stack으로 나뉨
### **Code(Text) 영역**

- 프로그램을 실행시키는 실행 파일 내의 **명령어**들이 위치하는 공간이다.
- 컴파일 시에 결정된다.
- 프로그램의 코드는 수정되면 안되므로, **Read-Only** 로 지정되어있다.
- 같은 프로그램으로 실행된 여러 프로세스는 동일한 코드를 가진다.
    - 동일한 내용을 중복 할당하지 않고 특정 공간에 할당하여 메모리 사용량을 절약할 수 있다.

### **Data 영역**

- **전역 변수**, **static(정적) 변수**들이 위치하는 공간이다.
- 전역 변수, 정적 변수를 참조한 코드는 컴파일 후 Data 영역의 주소값을 가리킨다.
- 한 프로세스 내 여러 스레드가 공통으로 Data 영역을 공유한다.
    - 중복된 내용을 여러 번 할당하지 않고 하나의 공간으로 구성하여 메모리 사용량을 절약할 수 있다.
- 실행 중에 변수가 수정될 수 있기에 **Read-Write** 로 지정되어있다.
- 프로그램 실행 시 생성되고, 프로그램 종료 시 소멸된다.

### **BSS 영역**

- 전역으로 선언된 초기화 하지 않은 변수는 **BSS**(Blocked Started by Symbel) 영역에 저장된다

### **Stack 영역**

- 함수의 실행을 마치고 **복귀할 주소**, **데이터**(**지역 변수**, **매개 변수**, **반환값**)를 임시로 저장하는 공간이다.
- 각 함수는 LIFO 구조로 실행된다.
    - **컴파일 시** **크기가 결정**된다.
    - 재귀 함수가 여러 번 호출되거나 지역변수가 많아지면 Stack Overflow가 발생할 수 있다.
- 메모리의 높은 주소에서 낮은 주소의 방향으로 할당된다.
- 실행 중에 변수가 수정될 수 있기에 Read-Write 로 지정되어있다.
- 함수의 호출과 함께 할당되고, 함수 호출 완료 시 소멸된다.

- PC(= Program Counter)
	- 다음에 실행할 코드(= 명령어)의 주소를 가리키는 레지스터
- EAX(Extended Accumulator Register)
	- 산술(= 사칙연산) 또는 논리연산을 수행하며 함수의 반환값이 저장되는 레지스터
	- 함수의 반환값이 저장되기 때문에, 함수의 성공/실패 여부를 쉽게 확인할 수 있다.
- ECX(Extended Counter Register)
	- 반복문 또는 반복 명령어 사용 시 반복 횟수가 저장되는 레지스터
- 등등...

### **Heap 영역**

- **동적 할당**(malloc(), new 등)을 위한 메모리 영역이다.
- **런타임**(동적 할당의 경우)에 **크기가 정해진다**.
- 메모리의 낮은 주소에서 높은 주소의 방향으로 할당된다.
- 주로 객체가 저장되고 Garbage Collector 에 의해 정리된다.


