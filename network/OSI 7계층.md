
하하.. 결국 CS공부를.. 첨부터..
# OSI 7계층이란?
OSI 7 Layer는 Open System Interconnection 참조 모델로 국제 표준화 기구 (ISO) 에서 제안한 통신 규약이다

이름 과 같이 총 7개의 계층이 존재
각 계층은 서로 명확히 구분된 일을 담당한다

그냥 네트워크 통신의 과정을 7개로 나눠 구분한 것이다

![](https://i.imgur.com/WS3cOgT.png)

## 1계층, 물리 계층 (Physical Layer)

실제 물리적인 장비를 의미
통신을 수행하는 두 장치 간의 실제 접속

- 단지 데이터를 전달함
	- 에러가 있든지 신경 X
- 데이터를 전지적인 신호로 변환, 주고 받는 기능을 담당

- 장비
	- 리피터, 허브
- 단위
	- 비트 (Bit)

## 2계층, 데이터 링크 계층(Data link layer)

물리 계층을 통해 들어오는 정보의 오류, 흐름을 관리

- 통신에서의 오류를 잡음
- 재전송, 프레인 동기화 등의 기능

- 맥 주소를 가지고 통신하게 됨
- 신뢰성 있는 전송을 보장하기 위한 계층
	- CRC 기반의 오류 제어, 흐름 제어를 사용
		- 흐름 제어 : 송신 측과 수신 측의 속도 차이를 조정
		- 오류 제어 : 오류 검출과 회복
		- 순서 제어 : 프레임의 순서적 전송
- 장비
	- 랜카드, 브리지, 스위치
- 단위
	- 프레임 (Frame)
### 흐름 제어
전송자가 수신자에게 피드백을 줘 데이터 전송 속도를 조절한다


### 오류 제어

- 단일 비트 에러 (Single-bit Error)
	- 오직 하나의 비트가 변경된 에러
- 다중 비트 에러 (Multi-bit Error)
	- 두개 이상의 비트가 변경된 에러
- 버스트 에러 (Burst Error)
	- 두개 이상의 **연속적인** 비트가 변경된 에러

- 에러 수정(Correction)
	- FEC(Forward Error Correction): 전진 에러 수정
		- 송신측이 프레임에 부가적 데이터(Redundancy)를 첨가하여 전송, 수신측이 에러 검출, 수정을 함
		- 재전송 요청 없이 스스로 수정
		- 더큰 비트로 효율이 떨어짐
	- BEC(Backward Error Correction): 후진 에러 수정
		- 송신측이 확장 비트 포함 전송, 수신측이 에러 검출시 재전송 요청 (ARQ)하는 방식
- 오류 검출(Detection)
	- 패리티 검사
		- 1의 개수를 짝수 개로 맞춰서 보낼지(Even Parity), 홀수 개로 맞춰서 보낼지(Odd Parity) 송신측과 수신측이 약속하고, 여분의 비트(패리티 비트)를 채워 보내는 것
		- 데이터의 전체 비트를 계산하여 패리티 비트를 다시 계산함으로 에러 발생 여부 판단
	- CRC(Cyclic Redundancy Check): 순환 중복 검사
		- 패리티 검사의 한계를 보완하기 위해 나온 에러 검출 방식 (하드웨어로 구현)
			- 데이터에 에러가 발생했는지 확인하는 코드를 확장 데이터로 덧붙여 보냄
	- 체크섬
		- 데이터의 길이와 관계없이 에러를 검출
		- 보통 네트워크, 트렌스포트 계층에서 주로 사용
	- 해밍코드
		- 하나의 데이터 단위에 대해 충분한 패리티 비트를 추가함
		- 에러를 검출하고 수정까지 할 수 있는 방법
## 3계층, 네트워크 계층(Network layer)

경로와 주소를 정하고 패킷 단위로 데이터를 쪼개 전송

네트워크 계층은 포워딩, 라우팅 기능을 가지고 있음
- 포워딩
	- 라우터의 인풋, 아웃풋까지 패킷이 옮겨지는 것
	- data plane 의 영역
- 라우팅
	- Source 부터 Destination 까지 경로 구축
	- control plane 의 영역
대체로 라우팅이 오버헤드가 더 큼

- 이를 원격 서버에서 관리하는 것을 SDN(Software-defined network)이라고 함
	- 요게 대세

라우터 Queueing
인풋, 아웃풋 포트는 큐로 버퍼를 이용
따라서 Queueing Delay나 Data Loss 가 발생 가능

![](https://i.imgur.com/YPw5eLY.png)
Switch fabric의 전송 속도가 들어오는 속도보다 느리면 큐잉이 발생
앞에 패킷이 뒤의 패킷을 막는 HOL(Head Of Line) Blocking이 발생할 수 있음

![](https://i.imgur.com/oZjVDR4.png)
스위칭 하는 속도보다 전송 속도가 느리면 똑같이 큐잉 발생

이를 대비하는 패킷 스케줄링이 필요
- 어떤 패킷을 Link로 보낼지에 대한 스케줄링

- FCFS (First Come, First Served)
- Priority queue
- Round Robin
- Weighted Fair Queueing(WFQ)
    - 일종의 Round Robin으로, queue에 가중치가 존재해서 각각 다른 시간씩 패킷을 보냅니다.

- 장비
	- 라우터
- 단위
	- 패킷 (Packet)


## 4계층, 전송 계층(Transport layer)

사용자 간 신뢰성 있는 데이터를 주고 받게 해주는 역할
TCP/UDP
- 오류 검출
- 복구
- 흐름제어
- 중복 검사

> 서로 다른 호스트에서 동작하는 "프로세스"들 사이의 논리적 통신을 제공하지만,
> 네트워크 프로토콜은 "호스트"들 사이의 논리적 통신을 제공합니다


- 장비
	- 게이트웨이
- 단위
	- 세그먼트 (Segment)

## 5계층, 세션 계층(Session layer)

실제 네트워크 연결
통신 중 연결이 끊어지지 않도록 유지 시켜주는 역할

포트 번호 기반으로 연결
송수신을 
- 통신하기 위한 방법 정의
- TCP/IP 세션 생성 및 삭제

상호작용, 동기화를 제공


- 단위
	- 메세지 (Message)

## 6계층, 표현 계층(Presentation layer)

이름처럼 프로그램, 네트워크를 위해 데티어를 표현

- 암호화, 복호화
- 데이터 변환
- 압축

## 7계층, 응용 계층(Application layer)

응용서비스나 프로세스가 동작

- HTTP, FTP, SMTP